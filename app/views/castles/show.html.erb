
<div class="content">



  <div class="banner" style="background-image: linear-gradient(-225deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0) 100%), url('<%= cl_image_path @castle.photo %>');">
    <div class="banner-content">
      <h1><%= @castle.name %></h1>
    </div>
    <div class="banner-button-wrapper">
      <%= link_to new_castle_booking_path(@castle) do %>
      <button class="btn btn-primary show_button"> Book this Castle</button>
      <% end %>
      <%= link_to edit_castle_path(@castle) do %>
      <button class="btn btn-primary show_button" id="edit_castle"> Edit Castle</button>
      <% end %>
      <%= link_to castle_path, method: :delete,
      data: { confirm: "Are you sure?" } do %>
      <button class="btn btn-primary show_button" id="delete_castle">Delete Castle</button>
      <% end %>
    </div>
  </div>
  <div class="container">
    Name: <%= @castle.name %> <br>
    Summary: <%= @castle.summary %> <br>
    Price per night: <%= @castle.price_per_night %> <br>
    <ul>
      <% @castle.amenities.each do |a| %>
      <li><%= image_tag(a.photo); %><%=  a.name %></li>
      <% end %>
    </ul>

  </div>
  <%= link_to "Back to castles", castles_path, class: "btn btn-default" %>
</div>
    <div id="map" style="width: 100%; height: 400px;"></div>


<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC7E8a3m9Z3jp15dLjldxd9Es9-SJhct6Y"></script>

<script type="text/javascript">
  var myLatlng = new google.maps.LatLng(<%= @castle.latitude %>, <%=  @castle.longitude %>);

  var myOptions = {
    zoom: 16,
    center: myLatlng,
    scrollwheel: false,
    mapTypeId: google.maps.MapTypeId.ROADMAP,
  styles: [] // TODO: replace [] with an array from https://snazzymaps.com/
};

var map = new google.maps.Map(document.getElementById('map'), myOptions);
var marker = new google.maps.Marker({
  position: myLatlng,
  map: map,
  title: "You are here!"
});
</script>
